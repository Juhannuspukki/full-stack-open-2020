{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Numbers.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","props","react_default","a","createElement","onChange","handleFilterChange","value","PersonForm","onSubmit","addName","handleNameChange","newName","handleNumberChange","newNumber","type","Numbers","Fragment","persons","map","person","name","toLowerCase","includes","filter","key","number","onClick","removeName","id","Notification","_ref","message","content","className","error","baseUrl","services_persons","axios","get","then","response","data","newObject","post","delete","concat","put","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setFilter","_useState9","_useState10","statusMessage","setStatusMessage","useEffect","personService","initialNotes","components_Notification","components_Filter","event","target","components_PersonForm","preventDefault","noteObject","window","alert","some","el","confirm","ide","find","o","returnedPerson","obj","setTimeout","catch","returnedNote","components_Numbers","returnedValue","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.3a1762c8.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = (props) => (\n  <div>filter shown with: <input onChange={props.handleFilterChange} value={props.value} /></div>\n)\n\n\nexport default Filter\n","import React from 'react'\n\nconst PersonForm = (props) => (\n    <form onSubmit={props.addName}>\n      <div>name: <input onChange={props.handleNameChange} value={props.newName} /></div>\n      <div>number: <input onChange={props.handleNumberChange} value={props.newNumber}/></div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n)\n\nexport default PersonForm\n","import React from 'react'\n\nconst Numbers = (props) => (\n  <>\n    {props.persons.map(person =>\n      person.name.toLowerCase().includes(props.filter.toLowerCase()) && (\n        <p key={person.name}>\n          <span>{person.name} {person.number} </span>\n          <button onClick={() => props.removeName(person.id, person.name)}>delete</button>\n        </p>\n      )\n    )}\n  </>\n)\n\n\nexport default Numbers\n","import React from 'react'\n\nconst Notification = ({ message }) => {\n  if (message.content === null) {\n    return null\n  }\n\n  return (\n    <div className={message.error ? \"error\" : \"success\"}>\n      {message.content}\n    </div>\n  )\n}\n\nexport default Notification\n","import axios from 'axios'\nconst baseUrl = 'https://osa3.vercel.app/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst remove = id => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nexport default {\n  getAll,\n  create,\n  remove,\n  update,\n}\n","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Numbers from './components/Numbers'\nimport Notification from './components/Notification'\nimport personService from './services/persons'\n\n\nconst App = () => {\n\n  const [ persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filter, setFilter ] = useState('')\n  const [ statusMessage, setStatusMessage] = useState({error: false, content: null})\n\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialNotes => {\n        setPersons(initialNotes)\n      })\n  }, [])\n\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value)\n  }\n\n  const addName = (event) => {\n    event.preventDefault()\n\n    const noteObject = {\n      name: newName,\n      number: newNumber,\n    }\n\n    if (newName === '' || newNumber === '') {\n      window.alert(`Please write soemthing to both fields.`)\n    }\n    else if (persons.some(el => el.name === newName)) {\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n        const ide = persons.find(o => o.name === newName).id;\n\n        personService\n          .update(ide, noteObject)\n          .then(returnedPerson => {\n            setPersons(persons.filter(obj => obj.id !== ide).concat(returnedPerson))\n\n            setStatusMessage(\n              {error: false, content: `Replaced ${noteObject.name}`}\n            )\n            setTimeout(() => {\n              setStatusMessage({error: false, content: null})\n            }, 5000)\n\n            setNewNumber('')\n            setNewName('')\n          })\n          .catch(error => {\n            setStatusMessage(\n              {error: true, content: `Person '${noteObject.name}' was already removed from server`}\n            )\n            setTimeout(() => {\n              setStatusMessage({error: true, content: null})\n            }, 5000)\n            setPersons(persons.filter(obj => obj.id !== ide))\n          })\n      }\n    }\n    else {\n      setPersons(persons.concat(noteObject))\n      personService\n        .create(noteObject)\n        .then(returnedNote => {\n          setPersons(persons.concat(returnedNote))\n\n          setStatusMessage(\n            {error: false, content: `Added ${noteObject.name}`}\n          )\n          setTimeout(() => {\n            setStatusMessage({error: false, content: null})\n          }, 5000)\n\n          setNewNumber('')\n          setNewName('')\n        })\n    }\n  }\n\n  const removeName = (id, name) => {\n    if (window.confirm(`Delete ${name}?`)) {\n      personService\n        .remove(id)\n        .then(returnedValue => {\n          setPersons(persons.filter(obj => obj.id !== id))\n\n          setStatusMessage(\n            {error: false, content: `Deleted ${name}`}\n          )\n          setTimeout(() => {\n            setStatusMessage({error: false, content: null})\n          }, 5000)\n\n        })\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={statusMessage} />\n\n      <Filter handleFilterChange={handleFilterChange} value={filter}/>\n      <h2>Add new</h2>\n      <PersonForm\n        addName={addName}\n        handleNameChange={handleNameChange}\n        newName={newName}\n        handleNumberChange={handleNumberChange}\n        newNumber={newNumber}\n      />\n      <h2>Numbers</h2>\n      <Numbers\n        persons={persons}\n        filter={filter}\n        removeName={removeName}\n      />\n    </div>\n  )\n\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}